# <a href="https://www.contensis.com"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 52 64" height="18" fill="none"><path fill="#37BFA7" d="m47.762 18.494-3.612-2.06c.358 1.655.631 3.29.799 4.859.144 1.353.358 4.309.358 4.45v19.975c0 .427-.518 1.311-.892 1.526L26.893 57.23c-.109.061-.448.16-.891.16-.445 0-.784-.099-.892-.16L7.586 47.244c-.376-.215-.892-1.099-.892-1.526V25.744c0-.428.518-1.313.892-1.525l9.731-5.546c1.134-1.545 2.433-3.189 3.827-4.951 1.546-1.955 3.188-4.036 4.833-6.258-1.542.003-3.037.374-4.216 1.045L4.238 18.497C1.783 19.895 0 22.945 0 25.744v19.974c0 2.799 1.783 5.849 4.238 7.249l17.523 9.988c1.182.675 2.688 1.045 4.24 1.045 1.55 0 3.054-.37 4.238-1.046l17.523-9.987c2.456-1.4 4.238-4.45 4.238-7.248V25.744c0-2.8-1.782-5.848-4.238-7.25Z"/><path fill="#37BFA7" d="M21.571 52.713c5.094-7.438 7.862-18.709 9.184-25.776-3.348 6.16-9.229 15.666-16.4 21.678-.038-.063-.062-.039 7.216 4.098Z"/><path fill="#37BFA7" d="M33.202.411C25.745 13.02 15.723 21.722 15.091 27.49c-.59 5.388 1.36 9.837 4.554 12.604a81.086 81.086 0 0 0 3.614-4.88c-.058-1.114-.482-9.815.44-12.264.527 3.778 1.616 7.265 2.02 8.483a113.948 113.948 0 0 0 2.746-4.685c-.083-2.213-.313-10.008.46-11.794.205 2.575 1.163 5.852 1.738 7.637.764-1.523 1.183-2.45 1.193-2.472l2.705-6.016-.71 6.545c-.004.034-.242 2.193-.82 5.478 1.586-1.289 4.104-3.457 5.328-5.16.105 2.054-4.444 7.556-6.193 9.594-.183.849-.382 1.73-.6 2.635-.154.64-.312 1.27-.473 1.89 1.517-.842 4.992-2.86 6.932-4.697-.294 2.095-6.46 7.419-8.09 8.794a80.161 80.161 0 0 1-1.336 3.98c3.744-.213 7.676-2.1 10.968-6.136C49.407 24.96 35.672-3.765 33.202.411Z"/></svg></a> contensis-delivery-api [![TypeScript](https://img.shields.io/badge/TypeScript-007ACC?style=flat&logo=typescript&logoColor=white)](https://www.typescriptlang.org/) [![NPM version](https://img.shields.io/npm/v/contensis-delivery-api.svg?style=flat)](https://www.npmjs.com/package/contensis-delivery-api)

[![JavaScript](https://img.shields.io/badge/JavaScript-323330?style=for-the-badge&logo=javascript&logoColor=F7DF1E)](https://developer.mozilla.org/en-US/docs/Web/JavaScript)
[![TypeScript](https://img.shields.io/badge/TypeScript-007ACC?style=for-the-badge&logo=typescript&logoColor=white)](https://www.typescriptlang.org/)
[![Node.js](https://img.shields.io/badge/Node%20js-339933?style=for-the-badge&logo=nodedotjs&logoColor=white)](https://nodejs.org/en)

[![Angular](https://img.shields.io/badge/Angular-DD0031?style=for-the-badge&logo=angular&logoColor=white)](https://angular.dev/) [![Electron](https://img.shields.io/badge/Electron-2B2E3A?style=for-the-badge&logo=electron&logoColor=9FEAF9)](https://electronjs.org/) [![Express.js](https://img.shields.io/badge/Express%20js-000000?style=for-the-badge&logo=express&logoColor=white)](https://expressjs.com/) [![React](https://img.shields.io/badge/React-20232A?style=for-the-badge&logo=react&logoColor=61DAFB)](https://react.dev/) [![React Native](https://img.shields.io/badge/React_Native-20232A?style=for-the-badge&logo=react&logoColor=61DAFB)](https://reactnative.dev/) [![Vue.js](https://img.shields.io/badge/Vue%20js-35495E?style=for-the-badge&logo=vuedotjs&logoColor=4FC08D)](https://vuejs.org/)

[![Contensis](https://img.shields.io/badge/Contensis-00304d?style=for-the-badge&logoColor=white&logo=data:image/svg%2bxml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9Ii02IDAgNjIgNjIiIGhlaWdodD0iMTYiIGZpbGw9Im5vbmUiPjxwYXRoIGZpbGw9IiMzN0JGQTciIGQ9Im00Ny43NjIgMTguNDk0LTMuNjEyLTIuMDZjLjM1OCAxLjY1NS42MzEgMy4yOS43OTkgNC44NTkuMTQ0IDEuMzUzLjM1OCA0LjMwOS4zNTggNC40NXYxOS45NzVjMCAuNDI3LS41MTggMS4zMTEtLjg5MiAxLjUyNkwyNi44OTMgNTcuMjNjLS4xMDkuMDYxLS40NDguMTYtLjg5MS4xNi0uNDQ1IDAtLjc4NC0uMDk5LS44OTItLjE2TDcuNTg2IDQ3LjI0NGMtLjM3Ni0uMjE1LS44OTItMS4wOTktLjg5Mi0xLjUyNlYyNS43NDRjMC0uNDI4LjUxOC0xLjMxMy44OTItMS41MjVsOS43MzEtNS41NDZjMS4xMzQtMS41NDUgMi40MzMtMy4xODkgMy44MjctNC45NTEgMS41NDYtMS45NTUgMy4xODgtNC4wMzYgNC44MzMtNi4yNTgtMS41NDIuMDAzLTMuMDM3LjM3NC00LjIxNiAxLjA0NUw0LjIzOCAxOC40OTdDMS43ODMgMTkuODk1IDAgMjIuOTQ1IDAgMjUuNzQ0djE5Ljk3NGMwIDIuNzk5IDEuNzgzIDUuODQ5IDQuMjM4IDcuMjQ5bDE3LjUyMyA5Ljk4OGMxLjE4Mi42NzUgMi42ODggMS4wNDUgNC4yNCAxLjA0NSAxLjU1IDAgMy4wNTQtLjM3IDQuMjM4LTEuMDQ2bDE3LjUyMy05Ljk4N2MyLjQ1Ni0xLjQgNC4yMzgtNC40NSA0LjIzOC03LjI0OFYyNS43NDRjMC0yLjgtMS43ODItNS44NDgtNC4yMzgtNy4yNVoiLz48cGF0aCBmaWxsPSIjMzdCRkE3IiBkPSJNMjEuNTcxIDUyLjcxM2M1LjA5NC03LjQzOCA3Ljg2Mi0xOC43MDkgOS4xODQtMjUuNzc2LTMuMzQ4IDYuMTYtOS4yMjkgMTUuNjY2LTE2LjQgMjEuNjc4LS4wMzgtLjA2My0uMDYyLS4wMzkgNy4yMTYgNC4wOThaIi8+PHBhdGggZmlsbD0iIzM3QkZBNyIgZD0iTTMzLjIwMi40MTFDMjUuNzQ1IDEzLjAyIDE1LjcyMyAyMS43MjIgMTUuMDkxIDI3LjQ5Yy0uNTkgNS4zODggMS4zNiA5LjgzNyA0LjU1NCAxMi42MDRhODEuMDg2IDgxLjA4NiAwIDAgMCAzLjYxNC00Ljg4Yy0uMDU4LTEuMTE0LS40ODItOS44MTUuNDQtMTIuMjY0LjUyNyAzLjc3OCAxLjYxNiA3LjI2NSAyLjAyIDguNDgzYTExMy45NDggMTEzLjk0OCAwIDAgMCAyLjc0Ni00LjY4NWMtLjA4My0yLjIxMy0uMzEzLTEwLjAwOC40Ni0xMS43OTQuMjA1IDIuNTc1IDEuMTYzIDUuODUyIDEuNzM4IDcuNjM3Ljc2NC0xLjUyMyAxLjE4My0yLjQ1IDEuMTkzLTIuNDcybDIuNzA1LTYuMDE2LS43MSA2LjU0NWMtLjAwNC4wMzQtLjI0MiAyLjE5My0uODIgNS40NzggMS41ODYtMS4yODkgNC4xMDQtMy40NTcgNS4zMjgtNS4xNi4xMDUgMi4wNTQtNC40NDQgNy41NTYtNi4xOTMgOS41OTQtLjE4My44NDktLjM4MiAxLjczLS42IDIuNjM1LS4xNTQuNjQtLjMxMiAxLjI3LS40NzMgMS44OSAxLjUxNy0uODQyIDQuOTkyLTIuODYgNi45MzItNC42OTctLjI5NCAyLjA5NS02LjQ2IDcuNDE5LTguMDkgOC43OTRhODAuMTYxIDgwLjE2MSAwIDAgMS0xLjMzNiAzLjk4YzMuNzQ0LS4yMTMgNy42NzYtMi4xIDEwLjk2OC02LjEzNkM0OS40MDcgMjQuOTYgMzUuNjcyLTMuNzY1IDMzLjIwMi40MTFaIi8+PC9zdmc+)](https://www.contensis.com)
[![Contensis Slack](https://img.shields.io/badge/Slack-4A154B?style=for-the-badge&logo=slack&logoColor=white)](https://contensis.slack.com)


Create a Contensis client that allows you to query and retrieve entries, site view nodes, content types and projects. It can be used in all your JavaScript / TypeScript projects, whether it runs in a browser, Node.js app, or both.

Read our documentation on [contensis.com](https://www.contensis.com/help-and-docs/apis/delivery-js) and there is a [contensis-delivery-api-examples](https://github.com/contensis/contensis-delivery-api-examples) repo containing Express, React and Angular test applications, as well as an extended example using nodes api in a Node.js project.

Use with Contensis version 12.0 and above. For Contensis 11.3 support use [this version](https://github.com/contensis/contensis-delivery-api/tree/release/1.0) | [npm](https://www.npmjs.com/package/contensis-delivery-api/v/1.0.0). This library requires Node.js 14 or above.

# Installation

Install the package to your project `dependencies` using npm, or your preferred Node.js package manager.

```shell
npm install --save contensis-delivery-api
```

# Usage

Follow the examples with the preferred coding style that best suits your project

## Create a client

All of the delivery methods are available under the `client` instance returned by `Client.create(...)`

Use the provided intellisense to guide you where it is available

```typescript
// Using TypeScript, or ES Module syntax

import { Client } from "contensis-delivery-api";

const client = Client.create({
  rootUrl: "https://my-cms.com",
  accessToken: "DELIVERY_API_ACCESS_TOKEN",
  projectId: "website",
  language: "en-GB",
  versionStatus: "published",
});
```

```cjs
// Using Common JS syntax

const Client = require("contensis-delivery-api").Client;

const client = Client.create({
  rootUrl: "https://my-cms.com",
  accessToken: "DELIVERY_API_ACCESS_TOKEN",
  projectId: "website",
  language: "en-GB",
  versionStatus: "published",
});
```

## Get a list of entries

Reusing the `client` instance we created above

```typescript
// Using TypeScript, or ES Module syntax

const loadMovies = async () => {
  const movieList = await client.entries.list({
    contentTypeId: "movie",
    pageOptions: { pageIndex: 0, pageSize: 10 },
    order: ["-releaseDate"],
  });
  for (const movie of movieList.items) {
    console.log(movie);
  }
};

loadMovies();
```

## Create a client config and get a list of entries

Keep a common client configuration and create the delivery client when you need it

```typescript
// Using async / await syntax (avoiding callbacks)

// Import the additional "Config" type when using TypeScript
import { Client, Config } from "contensis-delivery-api";

// Remove ": Config" annotation when NOT using TypeScript
const contensisConfig: Config = {
  rootUrl: "https://my-cms.com",
  accessToken: "DELIVERY_API_ACCESS_TOKEN",
  projectId: "website",
  language: "en-GB",
  versionStatus: "published",
};

const loadMovies = async () => {
  const client = Client.create(contensisConfig);
  const movieList = await client.entries.list({
    contentTypeId: "movie",
    pageOptions: { pageIndex: 0, pageSize: 10 },
    order: ["-releaseDate"],
  });
  for (const movie of movieList.items) {
    console.log(movie);
  }
};

loadMovies();
```

```typescript
// Using Promises and callbacks

import { Client } from "contensis-delivery-api";

const contensisConfig = {
  rootUrl: "https://my-cms.com",
  accessToken: "DELIVERY_API_ACCESS_TOKEN",
  projectId: "website",
  language: "en-GB",
  versionStatus: "published",
};

function loadMovies() {
  const client = Client.create(contensisConfig);
  client.entries
    .list({
      contentTypeId: "movie",
      pageOptions: { pageIndex: 0, pageSize: 10 },
      order: ["-releaseDate"],
    })
    .then((movieList) => {
      console.log(movieList.items);
    });
}

loadMovies();
```

# Fetch API

This library uses the `fetch` API and relies on it being available at runtime.

## Browser support

In modern browsers `fetch` is available natively, a polyfill is provided for older browsers.

The build of the library that targets browsers can be found in the `bundle` folder.

## Node.js support

When using this library in Node.js the `fetch` API is already polyfilled with [`cross-fetch`](https://www.npmjs.com/package/cross-fetch) package (which uses [`node-fetch`](https://www.npmjs.com/package/node-fetch) when used with a Node.js runtime).

Node.js [version 16](https://nodejs.org/docs/latest-v16.x/api/globals.html#fetch) introduced experimental support for a native global `fetch` API and shipped as standard with Node.js versions [18](https://nodejs.org/docs/latest-v18.x/api/globals.html#fetch) and [20](https://nodejs.org/docs/latest-v20.x/api/globals.html#fetch). The global `fetch` support in Node.js [version 21](https://nodejs.org/docs/latest-v21.x/api/globals.html#fetch) and greater is marked as stable.

## Use your own fetch

You can override the built-in fetch API by providing your own `fetchFn` method when creating the Client.

Method calls that require fetch invoked from this client instance will be made using your chosen API.

```typescript
import { Client } from "contensis-delivery-api";
import enterpriseFetch from "enterprise-fetch";

const client = Client.create({
  rootUrl: "https://my-cms.com",
  accessToken: "DELIVERY_API_ACCESS_TOKEN",
  projectId: "website",
  language: "en-GB",
  versionStatus: "published",
  fetchFn: enterpriseFetch,
});
```
